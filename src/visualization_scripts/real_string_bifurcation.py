#!/usr/bin/python

import sys
sys.path.append("/home/ralph/thesis/pga/chaos_control_ga")

import maps, misc
from random import random

if len(sys.argv) != 6:
    print "Invalid number of arguments."
    print "./real_string_bifurcation.py start stop step this_val num_vals"
    sys.exit(0)

start, stop, step = float(sys.argv[1]), float(sys.argv[2]), float(sys.argv[3])
this_val = float(sys.argv[4])
num_vals = float(sys.argv[5])

value = (this_val/num_vals) * -1
input = [[value, -0.71379310830007026, 0.41328466406271008, 0.51902593512980988, 0.19768546046583968, 0.76473492572009072, -0.18790442795450701, -0.16742998957843791, 0.21077959429949417, 0.061411021566136981, 0.46689018921838316, -0.46824989763140856, 0.87621925780534127, -1, 0.24833691933451099, 0.43134697401647121, 0.16089991322928443, -0.55077352605400132, -0.080239109298845868, -0.50408351085065495, -0.038976515422525115, 0.56572513576385253, 0.018578810519277178, -0.14597770659016251, -0.51067706048390482, -0.71013477364586719, 0.042245597271530544, -0.11333716235881341, -0.40901549119928693, 0.34959913427505429, 1, -0.8414821006607841, 0.2537761467063846, 0.608413817303463, 1, -0.48021384935787326, 0.10219820453605957, 0.1410225234398923, -0.60500469426355463, 0.97739758842033431, 0.54134592123312142, -0.39756593466798179, -0.80377491658726075, 0.36241471386675478, 0.023479305522229377, 0.87958836318855205, -1, 0.69345016043811492, -0.65353615236982798, 0.65199774774232355, -0.28034758587448083, 0.18159249716622217, 0.58825407262579921, 0.11645567141313481, 0.65901659717688177],[0]]

for amplitude in misc.arange(start, stop+step, step):
    for trials in range(1):
        x = [random(), random()]

        for i in range(500):
            x = maps.network(x)
            x[0] = x[0] + ( amplitude * input[0][i % len(input[0])] )

        for i in range(600):
            x = maps.network(x)
            x[0] = x[0] + ( amplitude * input[0][i % len(input[0])] )
            print amplitude, x[0]

